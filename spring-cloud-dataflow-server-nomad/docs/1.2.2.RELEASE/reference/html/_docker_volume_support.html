<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>6.&nbsp;Docker volume support</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Spring Cloud Data Flow Server for Nomad"><link rel="up" href="features.html" title="Part&nbsp;II.&nbsp;Features"><link rel="prev" href="_support_for_maven_and_docker_resources.html" title="5.&nbsp;Support for Maven and Docker resources"><link rel="next" href="_ephemeral_disks.html" title="7.&nbsp;Ephemeral disks"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.&nbsp;Docker volume support</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_support_for_maven_and_docker_resources.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;II.&nbsp;Features</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="_ephemeral_disks.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="_docker_volume_support" href="#_docker_volume_support"></a>6.&nbsp;Docker volume support</h2></div></div></div><p>Docker volume support was added in Nomad <a class="link" href="https://github.com/hashicorp/nomad/blob/master/CHANGELOG.md#050-november-16-2016" target="_top">0.5</a>.
which allows the Data Flow Server for Nomad to support defining Docker volumes, both as deployer and app deployment
properties.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Volumes defined at deployer level will be added to <span class="emphasis"><em>all</em></span> deployed apps. This is handy for
common shared folders that should be available to all apps.</p></td></tr></table></div><p>Below is an example of volumes defined as a server deployer property:</p><pre class="programlisting"><span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">spring.cloud.deployer.nomad</span>:
<span xmlns:d="http://docbook.org/ns/docbook" class="hl-attribute">  volumes</span>: /opt/data:/data,/opt/config:/config</pre><p>where volumes are defined as a comma separated list in the form of <code class="literal">host_path:container_path</code>.</p><p>Examples of the deployment property (via the Data Flow Shell) variation of defining volumes below:</p><pre class="programlisting">dataflow:&gt;stream create --name test --definition "time | file"
Created new stream 'timezoney'

dataflow:&gt;stream deploy test --properties "app.file.spring.cloud.deployer.nomad.volumes=/opt/data:/data,/opt/config:/config"</pre><p>See the Nomad Docker <a class="link" href="https://www.nomadproject.io/docs/drivers/docker.html#volumes" target="_top">volume documentation</a> for more details.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_support_for_maven_and_docker_resources.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="features.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="_ephemeral_disks.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5.&nbsp;Support for Maven and Docker resources&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;7.&nbsp;Ephemeral disks</td></tr></table></div></body></html>